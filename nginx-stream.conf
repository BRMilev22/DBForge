# Nginx Stream Proxy Configuration for DBForge
# This allows all database connections to go through port ranges that can be easily port-forwarded

stream {
    # PostgreSQL range: 15432-15531 (maps to 5432-5531)
    server {
        listen 15432;
        proxy_pass 127.0.0.1:5432;
    }
    server {
        listen 15433;
        proxy_pass 127.0.0.1:5433;
    }
    server {
        listen 15434;
        proxy_pass 127.0.0.1:5434;
    }
    server {
        listen 15435;
        proxy_pass 127.0.0.1:5435;
    }
    server {
        listen 15436;
        proxy_pass 127.0.0.1:5436;
    }
    server {
        listen 15437;
        proxy_pass 127.0.0.1:5437;
    }
    server {
        listen 15438;
        proxy_pass 127.0.0.1:5438;
    }
    server {
        listen 15439;
        proxy_pass 127.0.0.1:5439;
    }
    server {
        listen 15440;
        proxy_pass 127.0.0.1:5440;
    }
    server {
        listen 15441;
        proxy_pass 127.0.0.1:5441;
    }

    # MySQL range: 13306-13405 (maps to 3306-3405)
    server {
        listen 13306;
        proxy_pass 127.0.0.1:3306;
    }
    server {
        listen 13307;
        proxy_pass 127.0.0.1:3307;
    }
    server {
        listen 13308;
        proxy_pass 127.0.0.1:3308;
    }
    server {
        listen 13309;
        proxy_pass 127.0.0.1:3309;
    }
    server {
        listen 13310;
        proxy_pass 127.0.0.1:3310;
    }
    server {
        listen 13311;
        proxy_pass 127.0.0.1:3311;
    }
    server {
        listen 13312;
        proxy_pass 127.0.0.1:3312;
    }
    server {
        listen 13313;
        proxy_pass 127.0.0.1:3313;
    }
    server {
        listen 13314;
        proxy_pass 127.0.0.1:3314;
    }
    server {
        listen 13315;
        proxy_pass 127.0.0.1:3315;
    }

    # MariaDB range: 13406-13505 (maps to 3406-3505)
    server {
        listen 13406;
        proxy_pass 127.0.0.1:3406;
    }
    server {
        listen 13407;
        proxy_pass 127.0.0.1:3407;
    }
    server {
        listen 13408;
        proxy_pass 127.0.0.1:3408;
    }
    server {
        listen 13409;
        proxy_pass 127.0.0.1:3409;
    }
    server {
        listen 13410;
        proxy_pass 127.0.0.1:3410;
    }
    server {
        listen 13411;
        proxy_pass 127.0.0.1:3411;
    }
    server {
        listen 13412;
        proxy_pass 127.0.0.1:3412;
    }
    server {
        listen 13413;
        proxy_pass 127.0.0.1:3413;
    }
    server {
        listen 13414;
        proxy_pass 127.0.0.1:3414;
    }
    server {
        listen 13415;
        proxy_pass 127.0.0.1:3415;
    }

    # MongoDB range: 17017-17116 (maps to 27017-27116)
    server {
        listen 17017;
        proxy_pass 127.0.0.1:27017;
    }
    server {
        listen 17018;
        proxy_pass 127.0.0.1:27018;
    }
    server {
        listen 17019;
        proxy_pass 127.0.0.1:27019;
    }
    server {
        listen 17020;
        proxy_pass 127.0.0.1:27020;
    }
    server {
        listen 17021;
        proxy_pass 127.0.0.1:27021;
    }
    server {
        listen 17022;
        proxy_pass 127.0.0.1:27022;
    }
    server {
        listen 17023;
        proxy_pass 127.0.0.1:27023;
    }
    server {
        listen 17024;
        proxy_pass 127.0.0.1:27024;
    }
    server {
        listen 17025;
        proxy_pass 127.0.0.1:27025;
    }
    server {
        listen 17026;
        proxy_pass 127.0.0.1:27026;
    }

    # Redis range: 16379-16478 (maps to 6379-6478)
    server {
        listen 16379;
        proxy_pass 127.0.0.1:6379;
    }
    server {
        listen 16380;
        proxy_pass 127.0.0.1:6380;
    }
    server {
        listen 16381;
        proxy_pass 127.0.0.1:6381;
    }
    server {
        listen 16382;
        proxy_pass 127.0.0.1:6382;
    }
    server {
        listen 16383;
        proxy_pass 127.0.0.1:6383;
    }
    server {
        listen 16384;
        proxy_pass 127.0.0.1:6384;
    }
    server {
        listen 16385;
        proxy_pass 127.0.0.1:6385;
    }
    server {
        listen 16386;
        proxy_pass 127.0.0.1:6386;
    }
    server {
        listen 16387;
        proxy_pass 127.0.0.1:6387;
    }
    server {
        listen 16388;
        proxy_pass 127.0.0.1:6388;
    }
}
